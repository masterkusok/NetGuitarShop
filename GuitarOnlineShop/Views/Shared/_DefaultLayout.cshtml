<!DOCKTYPE html>
<html class="h-100">
<head>
	<meta name="viewport" content="width=device-width" />
	<title>Masterkusok Guitars!</title>
	<script type="text/javascript" src="~/lib/jquery/dist/jquery.js"></script>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/lib/font-awesome/css/font-awesome.min.css" />
	<link rel="stylesheet" href="~/css/Main.css" />
	<link rel="stylesheet" href="~/css/bsCustomization.css" />
</head>
<body class="bg-dark flex-column d-flex h-100">
		@if (ViewBag.NavBarEnabled)
		{
		<div class="fixed-top">
			<nav class="navbar navbar-dark navbar-expand-lg bg-dark">
				<div class="container-fluid p-3 ps-3 pe-3">
					<a class="navbar-brand" asp-action="Index" asp-controller="Home">Masterkusok Guitars!</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link @(ViewBag.PageName == "Home" ? "active" : "" )"
							   asp-controller="Home" asp-action="Index">Home</a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle @(ViewBag.PageName == "Shop" ? "active" : "" )"
							   data-bs-toggle="dropdown" aria-hidden="false" id="DropDownToggler"> Shop </a>
								<ul class="dropdown dropdown-menu dropdown-menu-dark" aria-labelledby="DropDownToggler">
									<li>
										<a asp-controller="Shop" asp-action="List" asp-route-type="Electric guitar"
									   class="dropdown-item">Electric Guitars</a>
									</li>
									<li>
										<a asp-controller="Shop" asp-action="List" asp-route-type="Acoustic guitar"
									   class="dropdown-item">Acoustic Guitars</a>
									</li>
									<li>
										<a class="dropdown-item" asp-controller="Shop" asp-action="List" asp-route-type="Bass guitar">Bass Guitars</a>
									</li>
									<div class="dropdown-divider"></div>
									<li><a class="dropdown-item" asp-controller="Shop" asp-action="List">All products</a></li>
								</ul>
							</li>
							<li class="nav-item">
								<a class="nav-link">Artists</a>
							</li>
						</ul>
							@if (User.Identity.IsAuthenticated && User.IsInRole("Moderator"))
							{
							<div class="navbar-nav ms-auto">
								<a class="nav-link" asp-action="Index" asp-controller="ControlPanel">Control Panel</a>
							</div>
							}
						<div class="navbar-nav ms-auto">
							<a class="btn btn-dark align-content-center" asp-controller="Account" asp-action="Info">
									@(User.Identity.IsAuthenticated ? User.Identity.Name : "Sign in") <i class="fa fa-user"></i>
							</a>
						</div>
						<div class="navbar-nav">
							<a class="btn btn-dark align-content-center" data-bs-toggle="collapse" href="#cartPreviewCollapse"
						   aria-expanded="false" aria-controls="collapse-example">
									@await Component.InvokeAsync("CartIcon")
							</a>
						</div>
					</div>
				</div>
			</nav>
			<div class="collapse w-100 text-light text-center" id="cartPreviewCollapse" style="background-color: #1e2125">
					@await Component.InvokeAsync("CartPreview")
			</div>
		</div>
		}
	<div class="container-fluid p-0 m-0">
			@RenderBody()
	</div>
		@if (ViewBag.FooterEnabled)
		{
		<footer class="footer mt-auto py-3 bottom bg-light text-dark p-5">
			<p>Masterkusok's Guitars&trade;</p>
			<p>&copy;2022 - all rights claimed by masterkusok</p>
		</footer>
		}
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>
